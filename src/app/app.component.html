<body>
    <div class="container">
        <!-- Formulario de contrato-->
        <div class="card1"> 
            <div class="card-header">
                <h1>Consultar Contrato</h1>
            </div>
            <form [formGroup]="formContrato" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="">Contrato:</label>
                    <input type="text" class="form-control" formControlName="contrato">
                </div>
                <div class="form-group">
                    <label for="">Usuario:</label>
                    <input type="text" class="form-control" formControlName="usuario">
                </div>
                <div class="form-group">
                    <label for="">Clave:</label>
                    <input type="password" class="form-control" formControlName="clave">
                </div>

                <button type="submit" class="btn btn-info" (click)="open(modalContrato)">
                    <i class="fas fa-search"></i>
                    Consultar
                </button>
                <div *ngIf="loading" class="spinner-border text-white float-end" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </form>
        </div>
        
        <!-- Formulario de pago-->
        <div class="card"> 
            <div class="card-header">
                <h1>Realizar pago</h1>
            </div>
            <form [formGroup]="formPago" (ngSubmit)="onSubmitPago()">
                <div class="form-group">
                    <label for="">Contrato:</label>
                    <input type="text" class="form-control" formControlName="contrato">
                </div>
                <div class="form-group">
                    <label for="">Usuario:</label>
                    <input type="text" class="form-control" formControlName="usuario">
                </div>
                <div class="form-group">
                    <label for="">Clave:</label>
                    <input type="password" class="form-control" formControlName="clave">
                </div>
                <div class="form-group">
                    <label for="">Valor a pagar:</label>
                    <input type="number" class="form-control" formControlName="valorpagar">
                </div>

                <button type="submit" class="btn btn-info" (click)="open(modalPago)" >
                    <i class="far fa-money-bill-alt"></i>
                    Pagar
                </button>
                <div *ngIf="loading" class="spinner-border text-white float-end" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </form>
        </div>
    </div>
</body>



<!-- --------------------------Modal Para mostrar info de contrato--------------------------- -->
<ng-template #modalContrato let-modal>
    <div class="modal-header">
        <div class="title">
            <h4 id="modal-basic-title">                
                <i class="far fa-file-alt"></i>&nbsp; Detalle de contrato
            </h4>
        </div>
        <div class="float-end ">
            <button type="button" class="close " aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span  aria-hidden="true">x</span>
            </button>
        </div>
    </div>
    <form  [formGroup]="formContratoModal">
        <div class="formulario-modal">
            <div class="container-1-modal">
                <div class="columna-1-modal">
                    <div class="form-group">
                        <label for="">Dirección:</label>
                        <input type="text" class="form-control" formControlName="DIRECCION">
                    </div>
                    <div class="form-group">
                        <label for="">Fecha limite de pago:</label>
                        <input type="text" class="form-control" formControlName="FECHA_LIMITE_PAGO">
                    </div>
                    <div class="form-group">
                        <label for="">Fecha oportuna de pago:</label>
                        <input type="text" class="form-control" formControlName="FECHA_OPORTUNA_PAGO">
                    </div>
                </div><!-- Fin columna-1 -->
                <div class="columna-1-modal">
                    <div class="form-group">
                        <label for="">Número de factura:</label>
                        <input type="number" class="form-control" formControlName="FACTCODI">
                    </div>
                    <div class="form-group">
                        <label for="">Código de usuario:</label>
                        <input type="number" class="form-control" formControlName="CODIGO_USUARIO">
                    </div>
                    <div class="form-group">
                        <label for="">Irregularidad:</label>
                        <input type="text" class="form-control" formControlName="IRREGULARIDAD">
                    </div>
                </div><!-- Fin columna-1 -->
               
            </div><!-- fin container-1 -->
            <!-- <hr> -->
            <div class="flex-container-2-modal">
                <div class="columna-1-modal">
                        <div class="form-group">
                            <label for="">Pago mínimo:</label>
                            <input type="number" class="form-control" formControlName="PAGO_MINIMO">
                        </div>
                        <div class="form-group">
                            <label for="">Ciclo:</label>
                            <input type="number" class="form-control" formControlName="CICLO">
                        </div>
                        <div class="form-group">
                            <label for="">Estado de conexion:</label>
                            <input type="text" class="form-control" formControlName="ESTADO_CONEXION">
                        </div>
                    </div><!-- Fin columna-1 -->
                    <div class="columna-1-modal">
                        <div class="form-group">
                            <label for="">Nombre del suscriptor:</label>
                            <input type="text" class="form-control" formControlName="SUSCNAME">
                        </div>
                        <div class="form-group">
                            <label for="">Deuda anteior:</label>
                            <input type="number" class="form-control" formControlName="DEUDA_ANTERIOR">
                        </div>
                        <div class="form-group">
                            <label for="">Atrasos:</label>
                            <input type="number" class="form-control" formControlName="ATRASOS">
                        </div>                       
                    </div><!-- Fin columna-1 -->                     
                </div>               
            </div><!-- fin formulario -->       
            <div class="modal-footer">
            <div class="form-group">
                <label for="">Deuda total:</label>
                <input type="number" class="form-control" formControlName="DEUDA_TOTAL">              
             </div> 
        </div>
    </form>
</ng-template>
<!-- --------------------------Modal Para mostrar info de contrato------------------------ -->

<!-- --------------------------Modal Para mostrar info de pago--------------------------- -->
<ng-template #modalPago let-modal>
    <div class="modal-header">
        <div class="title">
            <h4 id="modal-basic-title">                
                <i class="far fa-file-alt"></i>&nbsp; Detalle de pago
            </h4>
        </div>
        <div class="float-end ">
            <button type="button" class="close " aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span  aria-hidden="true">x</span>
            </button>
        </div>
    </div>
    <form  [formGroup]="formContratoModal">
        <div class="formulario-modal">
           <div>
            <h1>{{respuestaServidor}}</h1>
           </div>

         <div class="modal-footer">
         </div>
        </div>
    </form>
</ng-template>
<!-- --------------------------Modal Para mostrar info de pago------------------------ -->